<div class="bb-alert alert alert-info" style="display:none;">
  <span></span>
</div>
<%= render :partial => "sidebar/sidebar" %>

<section id="main-content">
  <section class="wrapper site-min-height">


    <section id="my-cameras" class="panel">
      <header class="panel-heading">
        My Cameras
      </header>
      <div class="panel-body">


          <% @cameras.each do |camera| %>
            <a href="/cameras/<%= camera['id'] %>?share=false">
              <div class="col-md-4 col-sm-6 col-xs-12 cam-box">
                <div id="cam-name"><h5><%= camera['name'] %></h5></div>
                <%= preview(camera) %>
                <div id="offline"> <% if camera['is_online'] %>
                    <span class="green">Online</span>
                  <% else %>
                    <span class="red">Offline</span>
                  <% end %>
                  <a href="#" id="cam-refresh" class="refresh"><span class="glyphicon glyphicon-refresh"></span></a>
                </div>
              </div>
            </a>
          <% end %>


      </div>
    </section>


    <section id="my-shared-cameras" class="panel">
      <header class="panel-heading">
        My Shared Cameras
      </header>
      <div class="panel-body">


          <% @shares.each do |camera| %>
            <div class="col-md-4 col-sm-6 col-xs-12 cam-box">
              <a href="/cameras/<%= camera['id'] %>?share=true">
                <div id="cam-name"><h5><%= camera['name'] %></h5></div>
                <%= preview(camera) %>
                <div id="offline"> <% if camera['is_online'] %>
                    <span class="green">Online</span>
                  <% else %>
                    <span class="red">Offline</span>
                  <% end %>
                  <a href="#" id="cam-refresh" class="refresh"><span class="glyphicon glyphicon-refresh"></span></a>
                </div>
              </a>
            </div>
          <% end %>


      </div>
    </section>






  </section>
</section>
<!--main content end-->

<script>
  /*==Sidebar Toggle==*/

  $(".leftside-navigation .sub-menu > a").click(function () {
    var o = ($(this).offset());
    var diff = 80 - o.top;
    if (diff > 0)
      $(".leftside-navigation").scrollTo("-=" + Math.abs(diff), 500);
    else
      $(".leftside-navigation").scrollTo("+=" + Math.abs(diff), 500);
  });



  $('.sidebar-toggle-box .fa-bars').click(function (e) {

    $(".leftside-navigation").niceScroll({
      cursorcolor: "#1FB5AD",
      cursorborder: "0px solid #fff",
      cursorborderradius: "0px",
      cursorwidth: "3px"
    });

    $('#sidebar').toggleClass('hide-left-bar');
    if ($('#sidebar').hasClass('hide-left-bar')) {
      $(".leftside-navigation").getNiceScroll().hide();
    }
    $(".leftside-navigation").getNiceScroll().show();
    $('#main-content').toggleClass('merge-left');
    e.stopPropagation();
    if ($('#container').hasClass('open-right-panel')) {
      $('#container').removeClass('open-right-panel')
    }
    if ($('.right-sidebar').hasClass('open-right-bar')) {
      $('.right-sidebar').removeClass('open-right-bar')
    }

    if ($('.header').hasClass('merge-header')) {
      $('.header').removeClass('merge-header')
    }


  });
  $('.toggle-right-box .fa-bars').click(function (e) {
    $('#container').toggleClass('open-right-panel');
    $('.right-sidebar').toggleClass('open-right-bar');
    $('.header').toggleClass('merge-header');

    e.stopPropagation();
  });

  $('.header,#main-content,#sidebar').click(function () {
    if ($('#container').hasClass('open-right-panel')) {
      $('#container').removeClass('open-right-panel')
    }
    if ($('.right-sidebar').hasClass('open-right-bar')) {
      $('.right-sidebar').removeClass('open-right-bar')
    }

    if ($('.header').hasClass('merge-header')) {
      $('.header').removeClass('merge-header')
    }


  });


  $('.panel .tools .fa').click(function () {
    var el = $(this).parents(".panel").children(".panel-body");
    if ($(this).hasClass("fa-chevron-down")) {
      $(this).removeClass("fa-chevron-down").addClass("fa-chevron-up");
      el.slideUp(200);
    } else {
      $(this).removeClass("fa-chevron-up").addClass("fa-chevron-down");
      el.slideDown(200); }
  });



  $('.panel .tools .fa-times').click(function () {
    $(this).parents(".panel").parent().remove();
  });
</script>