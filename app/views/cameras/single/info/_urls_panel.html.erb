<div class="portlet solid margin-top-40" id="urls-panel">
  <div class="portlet-title">
    <div class="caption">URLs</div>
  </div>
  <div class="portlet-body">
    <section id="unseen">
      <div class="uppercase-title"><span class="title-label">Base Camera URL</span></div>
      <table class="table table-fixed table-borderless">
        <tr>
          <td class="col-md-4 col-xs-4">
            Camera:
          </td>
          <td>
            <% url = @camera.deep_fetch('external', 'http', 'camera') {} %>
            <% if url.blank? %>
              <span class="grey">Not available</span>
            <% else %>
              <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
            <% end %>
          </td>
        </tr>
        <tr>
          <td class="col-md-4 col-xs-4">
            Snapshot URL:
          </td>
          <td>
            <% url = @camera.deep_fetch('external', 'http', 'jpg') {} %>
            <% if url.blank? %>
              <span class="grey">Not available</span>
            <% else %>
              <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
            <% end %>
          </td>
        </tr>
        <tr>
          <td class="col-md-4 col-xs-4">
            HLS:
          </td>
          <td>
            <% url = @camera.deep_fetch('proxy_url', 'hls') {} %>
            <% if url.blank? %>
              <span class="grey">Not available</span>
            <% else %>
              <%= link_to_unless(url.nil?, "http://media.evercam.io:4000/live/index.m3u8?camera_id=#{@camera['id']}", url, target: '_blank', :only_path => false) %>
            <% end %>
          </td>
        </tr>
        <tr>
          <td class="col-md-4 col-xs-4">
            rtsp:
          </td>
          <td>
            <% url = @camera.deep_fetch('external', 'rtsp' , 'h264') {} %>
            <% if url.blank? %>
              <span class="grey">Not available</span>
            <% else %>
              <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
            <% end %>
          </td>
        </tr>
        <tr>
          <td class="col-md-4 col-xs-4">
            rtmp:
          </td>
          <td>
            <% url = @camera.deep_fetch('proxy_url', 'rtmp') {} %>
            <% if url.blank? %>
              <span class="grey">Not available</span>
            <% else %>
              <%= link_to_unless(url.nil?, "rtmp://media.evercam.io:1935/live?camera_id=#{@camera['id']}", url, target: '_blank', :only_path => false) %>
            <% end %>
          </td>
        </tr>
      </table>
    </section>
  </div>
</div>
