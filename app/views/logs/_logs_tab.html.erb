<div class="col-lg-12 info-panel">
  <h4>Logs</h4>

    <div class="col-md-12 filter">
      <div class="col-md-1 action-title"><h5>Actions:</h5></div>
      <div class="col-md-8" id="types">
        <label class="checkbox-inline">All<input value="" type="checkbox" class="" /> </label>
          <% @types.each do |t| %>
           <label class="checkbox-inline">
             <%= t.capitalize %><input name="type" type="checkbox" class="" value="<%= t %>" <% if params[:types] and params[:types].include?(t) %> checked<% end %> />
           </label>
          <% end %>
      </div>
      <div class="col-md-3">
        <input id="current-page" type="hidden" value="<%= @page + 1 %>">
        <input id="exid" type="hidden" value="<%= @camera['id'] %>">
        <button id="apply-types" class="btn btn-primary pull-right">Filter</button>
      </div>
    </div>

  <div class="row">
    <div class="col-md-12">
      <table class="table table-logs">
        <thead>
          <th>Date</th>
          <th>Camera Action</th>
          <th>User/Client</th>
        </thead>
        <tbody>
          <% @logs.each do |l| %>
          <tr>
            <td>On <span class="bold"><%= Time.at(l['done_at']).to_formatted_s(:rfc822)  %></span></td>
            <td>Camera was <span class="bold"><%= l['action'] %></span></td>
            <td>
              <% unless ['online', 'offline'].include?l['action'] %>
                by <span class="bold"><%= l['who']  %></span>
              <% end %>
            </td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div><!-- row -->

</div><!-- info panel -->

<div class="col-md-12">
  <ul class="pagination">
    <% 1.upto(@pages + 1) do |i| %>
      <% if (@page + 1) == i %>
      <li class="active"><a href="/cameras/<%= @camera['id'] %>?page=<%= i %>&types=<%= params[:types] %>#logs"><%= i %><span class="sr-only">(current)</span></a></li>
      <% else %>
      <li><a href="/cameras/<%= @camera['id'] %>?page=<%= i %>&types=<%= params[:types] %>#logs"><%= i %></a></li>
      <% end %>
    <% end %>
  </ul>
</div>

<script type="text/javascript">
  $(window.Evercam.Logs.initializeTab);
</script>