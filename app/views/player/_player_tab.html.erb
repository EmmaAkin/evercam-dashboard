


<div class="col-md-6 col-sm-6 col-xs-12">


  <div class="option-1 switch" style="display: none;">
    <h5>JPEG Refresh Ext</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-2 switch" style="display: none;">
    <h5>JPEG Refresh Int</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-3 switch" style="display: none;">
    <h5>JPEG Refresh Proxy</h5>
    <div class="player-container"></div>
    <script src="https://jwpsrv.com/library/AvbyZBZAEeSVQiIACtqXBA.js"></script>
    <div id="player" class="tab-pane">
      <div id='playerjsuHWVtecUxm'></div>
      <script type='text/javascript'>
        jwplayer('playerjsuHWVtecUxm').setup({
          file: 'http://evr.cm/#{@camera['id']}.jpg',
          image: '//www.longtailvideo.com/content/images/jw-player/lWMJeVvV-876.jpg',
          width: '100%',
          aspectratio: '4:3'
        });
      </script>
    </div>
    <%= link_to "http://evr.cm/#{@camera['id']}.jpg", "http://evr.cm/#{@camera['id']}.jpg", target: '_blank', :only_path => false %>
  </div>
  <div class="option-4 switch" style="display: none;">
    <h5>MJPEG VLC Ext</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-5 switch" style="display: none;">
    <h5>MJPEG VLC Int</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-6 switch" style="display: none;">
    <h5>RTSP H264 VLC Ext</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-7 switch" style="display: none;">
    <h5>RTSP H264 VLC Int</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-8 switch" style="display: none;">
    <h5>RTMP VLC Proxy</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-9 switch" style="display: none;">
    <h5>RTMP JW Proxy</h5>

  </div>
  <div class="option-10 switch" style="display: none;">
    <h5>HLS VLC Proxy</h5>
    <div class="player-container"></div>
  </div>
  <div class="option-11 switch" style="display: none;">
    <h5>HLS JW Proxy</h5>
    <div class="player-container"></div>
  </div>

<select name="action" class='margin-top-10 margin-bottom-20' id="getPlayer" onchange="admSelectCheck(this);">
  <option value="option-1">
    JPEG Refresh Ext
    <span class="grey">
          <% if url = @camera.deep_fetch(:external, :http, :jpg) {} %>
          - <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
          <% else %>
            - Not available
          <% end %>
  </span>
  </option>
  <option value="option-2">
    JPEG Refresh Int
    <span class="grey">
          <% if url = @camera.deep_fetch(:internal, :http, :jpg) {} %>
          - <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
          <% else %>
            - Not available
          <% end %>
  </span>
  </option>
  <option value="option-3">
    JPEG Refresh Proxy
    <span class="grey">
     - <%= link_to "http://evr.cm/#{@camera['id']}.jpg", "http://evr.cm/#{@camera['id']}.jpg", target: '_blank', :only_path => false %>
  </span>
  </option>
  <option value="option-4">
    MJPEG VLC Ext
    <span class="grey">
          <% if url = @camera.deep_fetch(:external, :rtsp, :mpeg) {} %>
          - <%= link_to_unless(url.nil?, url, url,  :only_path => false) %>
          <% else %>
         - Not available
          <% end %>
    </span>
  </option>
  <option value="option-5">
    MJPEG VLC Int
    <span class="grey">
          <% if url = @camera.deep_fetch(:internal, :rtsp, :mpeg) {} %>
          - <%= link_to_unless(url.nil?, url, url,  :only_path => false) %>
          <% else %>
          - Not available
          <% end %>
  </span>
  </option>
  <option value="option-6">
    RTSP H264 VLC Ext
    <span class="grey">
          <% if url = @camera.deep_fetch(:external, :rtsp, :h264) {} %>
          - <%= link_to_unless(url.nil?, url, url,  :only_path => false) %>
          <% else %>
          - Not available
          <% end %>
  </span>
  </option>
  <option value="option-7">
    RTSP H264 VLC Int
    <span class="grey">
          <% if url = @camera.deep_fetch(:internal, :rtsp, :h264) {} %>
          - <%= link_to_unless(url.nil?, url, url,  :only_path => false) %>
          <% else %>
          - Not available
          <% end %>
  </span>
  </option>
  <option value="option-8">
    RTMP VLC Proxy
    <span class="grey">
        <% if url = @camera.deep_fetch(:proxy_url, :rtmp) {} %>
      <p><%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %></p>
    <% else %>
      <p>rtmp not found</p>
    <% end %>
  </span>
  </option>
  <option value="option-9">
    RTMP JW Proxy
    <span class="grey">
        <% if url = @camera.deep_fetch(:proxy_url, :rtmp) {} %>
      - <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
      <% else %>
      - Not found
      <% end %>
  </span>
  </option>
  <option value="option-10">
    HLS VLC Proxy
    <span class="grey">
    <% if url = @camera.deep_fetch(:proxy_url, :hls) {} %>
      - <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
    <% else %>
      - hls not found
    <% end %>
  </span>
  </option>
  <option value="option-11">
    HLS JW Proxy
    <span class="grey">
    <% if url = @camera.deep_fetch(:proxy_url, :hls) {} %>
      - <%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %>
    <% else %>
      - hls not found
    <% end %>
  </span>
  </option>
</select>



  <div style="display: none;">
    <% if url = @camera.deep_fetch(:proxy_url, :hls) {} %>
      <p><%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %><span class=â€‹"glyphicon glyphicon-new-window"></span></p>
    <% else %>
      <p>hls not found</p>
    <% end %>


    <% if url = @camera.deep_fetch(:proxy_url, :rtmp) {} %>
      <p><%= link_to_unless(url.nil?, url, url, target: '_blank', :only_path => false) %></p>
    <% else %>
      <p>rtmp not found</p>
    <% end %>
  </div>

</div>




<script type="text/javascript">
  function admSelectCheck(nameSelect){
    if(nameSelect.value){
      var preElements = document.getElementsByClassName('switch');
      for(var i=0; i < preElements.length; i++){
        //if the class contains the selected value, then show it, else hide it
        preElements[i].style.display = preElements[i].classList.contains(nameSelect.value)?'block':'none';
      }
    }
  }
  window.onload = function (){
    document.getElementById('getPlayer').onchange();
  }
</script>