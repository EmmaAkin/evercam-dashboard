<div id="user-settings">
  <div class="user-settings-portal col-md-8">
    <div class="">
      <div class="portlet-body form">
        <form id="userPassword" role="form" method="post" action="/v1/users/<%= current_user.username -%>/password/change">
          <%= hidden_field_tag :authenticity_token, form_authenticity_token -%>
          <div class="form-group">
            <label class="grey" for="current-password">Current Password</label>
            <input data-validation="current-password" data-validation-error-msg="Cannot be blank" required="true" type="password" class="form-control input-medium" id="current-password" name="current-password">
          </div>
          <div class="form-group">
            <label class="grey" for="new-password">New Password</label>
            <input data-validation="new-password" required="true" type="password" class="form-control input-medium" id="new-password" name="new-password">
          </div>
          <div class="form-group">
            <label class="grey" for="password_again">Confirm Password</label>
            <input data-validation="password_again" required="true" type="password" class="form-control input-medium" id="password_again" name="password_again">
            <span id="wrong-confirm-password" class="error-msg-color">Please enter the same password as above.</span>
          </div>
          <div class="margin-top-20">
            <div class="row">
              <div class="col-md-12">
                <input type="hidden" name="_method" value="put"/>
                <input type="submit" id="change-password" class="btn blue" value="Change Password" name="change-password"/>
              </div>
            </div>
            <div class="col-md-3"></div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(function () {
    $("#change-password").on('click',function(){
      console.log($("#password").val()+' != '+$("#password_again").val());
      if($("#new-password").val() != $("#password_again").val()){
        $("#wrong-confirm-password").show();
        $("#password_again").addClass('border-red');
        return false;
      }
      $("#wrong-confirm-password").hide();
      $("#password_again").removeClass('border-red');
      return true;
    });
  });
</script>