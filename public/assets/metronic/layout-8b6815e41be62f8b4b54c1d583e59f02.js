var Layout=function(){var e=Metronic.getAssetsPath()+"admin/layout/img/",a=Metronic.getAssetsPath()+"admin/layout/css/",o=function(){var e,a=$(".page-content"),o=$(".page-sidebar"),t=$("body");if(t.hasClass("page-footer-fixed")===!0&&t.hasClass("page-sidebar-fixed")===!1){var r=Metronic.getViewPort().height-$(".page-footer").outerHeight()-$(".page-header").outerHeight();a.height()<r&&a.attr("style","min-height:"+r+"px")}else{if(t.hasClass("page-sidebar-fixed"))e=i(),t.hasClass("page-footer-fixed")===!1&&(e-=$(".page-footer").outerHeight());else{var s=$(".page-header").outerHeight(),n=$(".page-footer").outerHeight();e=Metronic.getViewPort().width<992?Metronic.getViewPort().height-s-n:o.height()+20,$(window).width()>1024&&e+s+n<Metronic.getViewPort().height&&(e=Metronic.getViewPort().height-s-n)}a.attr("style","min-height:"+e+"px")}},t=function(){jQuery(".page-sidebar").on("click","li > a",function(e){if($(this).next().hasClass("sub-menu")===!1)return void(Metronic.getViewPort().width<992&&$(".page-header .responsive-toggler").click());if(!$(this).next().hasClass("sub-menu always-open")){var a=$(this).parent().parent(),t=$(this),i=$(".page-sidebar-menu"),r=jQuery(this).next(),s=i.data("auto-scroll"),n=parseInt(i.data("slide-speed"));a.children("li.open").children("a").children(".arrow").removeClass("open"),a.children("li.open").children(".sub-menu:not(.always-open)").slideUp(n),a.children("li.open").removeClass("open");var d=-200;r.is(":visible")?(jQuery(".arrow",jQuery(this)).removeClass("open"),jQuery(this).parent().removeClass("open"),r.slideUp(n,function(){1==s&&0==$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?i.slimScroll({scrollTo:t.position().top}):Metronic.scrollTo(t,d)),o()})):(jQuery(".arrow",jQuery(this)).addClass("open"),jQuery(this).parent().addClass("open"),r.slideDown(n,function(){1==s&&0==$("body").hasClass("page-sidebar-closed")&&($("body").hasClass("page-sidebar-fixed")?i.slimScroll({scrollTo:t.position().top}):Metronic.scrollTo(t,d)),o()})),e.preventDefault()}}),jQuery(".page-sidebar").on("click"," li > a.ajaxify",function(e){e.preventDefault(),Metronic.scrollTop();var a=$(this).attr("href"),o=jQuery(".page-sidebar ul"),t=($(".page-content"),$(".page-content .page-content-body"));o.children("li.active").removeClass("active"),o.children("arrow.open").removeClass("open"),$(this).parents("li").each(function(){$(this).addClass("active"),$(this).children("a > span.arrow").addClass("open")}),$(this).parents("li").addClass("active"),Metronic.getViewPort().width<992&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click(),Metronic.startPageLoading();var i=$(this);$.ajax({type:"GET",cache:!1,url:a,dataType:"html",success:function(e){0===i.parents("li.open").size()&&$(".page-sidebar-menu > li.open > a").click(),Metronic.stopPageLoading(),t.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(){Metronic.stopPageLoading(),t.html("<h4>Could not load the requested content.</h4>")}})}),jQuery(".page-content").on("click",".ajaxify",function(e){e.preventDefault(),Metronic.scrollTop();var a=$(this).attr("href"),o=($(".page-content"),$(".page-content .page-content-body"));Metronic.startPageLoading(),Metronic.getViewPort().width<992&&$(".page-sidebar").hasClass("in")&&$(".page-header .responsive-toggler").click(),$.ajax({type:"GET",cache:!1,url:a,dataType:"html",success:function(e){Metronic.stopPageLoading(),o.html(e),Layout.fixContentHeight(),Metronic.initAjax()},error:function(){o.html("<h4>Could not load the requested content.</h4>"),Metronic.stopPageLoading()}})})},i=function(){var e=Metronic.getViewPort().height-$(".page-header").outerHeight();return $("body").hasClass("page-footer-fixed")&&(e-=$(".page-footer").outerHeight()),e},r=function(){var e=$(".page-sidebar-menu");return Metronic.destroySlimScroll(e),0===$(".page-sidebar-fixed").size()?void o():void(Metronic.getViewPort().width>=992&&(e.attr("data-height",i()),Metronic.initSlimScroll(e),o()))},s=function(){var e=$("body");e.hasClass("page-sidebar-fixed")&&$(".page-sidebar-menu").on("mouseenter",function(){e.hasClass("page-sidebar-closed")&&$(this).removeClass("page-sidebar-menu-closed")}).on("mouseleave",function(){e.hasClass("page-sidebar-closed")&&$(this).addClass("page-sidebar-menu-closed")})},n=function(){var e=$("body");$.cookie&&"1"===$.cookie("sidebar_closed")&&Metronic.getViewPort().width>=992&&($("body").addClass("page-sidebar-closed"),$(".page-sidebar-menu").addClass("page-sidebar-menu-closed")),$(".page-sidebar, .page-header").on("click",".sidebar-toggler",function(){var a=$(".page-sidebar"),o=$(".page-sidebar-menu");$(".sidebar-search",a).removeClass("open"),e.hasClass("page-sidebar-closed")?(e.removeClass("page-sidebar-closed"),o.removeClass("page-sidebar-menu-closed"),$.cookie&&$.cookie("sidebar_closed","0")):(e.addClass("page-sidebar-closed"),o.addClass("page-sidebar-menu-closed"),e.hasClass("page-sidebar-fixed")&&o.trigger("mouseleave"),$.cookie&&$.cookie("sidebar_closed","1")),$(window).trigger("resize")}),s(),$(".page-sidebar").on("click",".sidebar-search .remove",function(e){e.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(e){return 13==e.which?($(".sidebar-search").submit(),!1):void 0}),$(".sidebar-search .submit").on("click",function(e){e.preventDefault(),$("body").hasClass("page-sidebar-closed")&&0==$(".sidebar-search").hasClass("open")?(1===$(".page-sidebar-fixed").size()&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit()}),0!=$(".sidebar-search").size()&&($(".sidebar-search .input-group").on("click",function(e){e.stopPropagation()}),$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))},d=function(){$(".page-header").on("click",'.hor-menu a[data-toggle="tab"]',function(e){e.preventDefault();var a=$(".hor-menu .nav"),o=a.find("li.current");$("li.active",o).removeClass("active"),$(".selected",o).remove();var t=$(this).parents("li").last();t.addClass("current"),t.find("a:first").append('<span class="selected"></span>')}),$(".page-header").on("click",".search-form",function(){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})}),$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(e){return 13==e.which?($(this).closest(".search-form").submit(),!1):void 0}),$(".page-header").on("mousedown",".search-form.open .submit",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".search-form").submit()}),$(document).on("click",".mega-menu-dropdown .dropdown-menu",function(e){e.stopPropagation()})},l=function(){$("body").on("shown.bs.tab",'a[data-toggle="tab"]',function(){o()})},c=function(){jQuery(".page-footer").on("click",".go-top",function(e){Metronic.scrollTo(),e.preventDefault()})},p=function(){var e,a=$(".full-height-content");if(e=Metronic.getViewPort().height-$(".page-header").outerHeight(!0)-$(".page-footer").outerHeight(!0)-$(".page-title").outerHeight(!0)-$(".page-breadcrumb").outerHeight(!0),a.hasClass("portlet")){var o=a.find(".portlet-body");if(Metronic.getViewPort().width<992)return void Metronic.destroySlimScroll(o.find(".full-height-content-body"));e=e-a.find(".portlet-title").outerHeight(!0)-parseInt(a.find(".portlet-body").css("padding-top"))-parseInt(a.find(".portlet-body").css("padding-bottom"))-2,a.hasClass("full-height-content-scrollable")?(e-=20,o.find(".full-height-content-body").css("height",e),Metronic.initSlimScroll(o.find(".full-height-content-body"))):o.css("min-height",e)}else{if(Metronic.getViewPort().width<992)return void Metronic.destroySlimScroll(a.find(".full-height-content-body"));a.hasClass("full-height-content-scrollable")?(e-=20,a.find(".full-height-content-body").css("height",e),Metronic.initSlimScroll(a.find(".full-height-content-body"))):a.css("min-height",e)}},g=function(){var t=$(".theme-panel");0==$("body").hasClass("page-boxed")&&$(".layout-option",t).val("fluid"),$(".sidebar-option",t).val("default"),$(".page-header-option",t).val("fixed"),$(".page-footer-option",t).val("default"),$(".sidebar-pos-option").attr("disabled")===!1&&$(".sidebar-pos-option",t).val(Metronic.isRTL()?"right":"left");var i=function(){$("body").removeClass("page-boxed").removeClass("page-footer-fixed").removeClass("page-sidebar-fixed").removeClass("page-header-fixed").removeClass("page-sidebar-reversed"),$(".page-header > .page-header-inner").removeClass("container"),1===$(".page-container").parent(".container").size()&&$(".page-container").insertAfter("body > .clearfix"),1===$(".page-footer > .container").size()?$(".page-footer").html($(".page-footer > .container").html()):1===$(".page-footer").parent(".container").size()&&$(".page-footer").insertAfter(".page-container"),$("body > .container").remove()},n="",d=function(){var e=$(".layout-option",t).val(),a=$(".sidebar-option",t).val(),d=$(".page-header-option",t).val(),l=$(".page-footer-option",t).val(),c=$(".sidebar-pos-option",t).val();if("fixed"==a&&"default"==d&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Fixed Header with Fixed Sidebar."),$(".page-header-option",t).val("fixed"),$(".sidebar-option",t).val("fixed"),a="fixed",d="fixed"),i(),"boxed"===e){$("body").addClass("page-boxed"),$(".page-header > .page-header-inner").addClass("container");{$("body > .clearfix").after('<div class="container"></div>')}$(".page-container").appendTo("body > .container"),"fixed"===l?$(".page-footer").html('<div class="container">'+$(".page-footer").html()+"</div>"):$(".page-footer").appendTo("body > .container")}n!=e&&Metronic.runResizeHandlers(),n=e,"fixed"===d?($("body").addClass("page-header-fixed"),$(".page-header").removeClass("navbar-static-top").addClass("navbar-fixed-top")):($("body").removeClass("page-header-fixed"),$(".page-header").removeClass("navbar-fixed-top").addClass("navbar-static-top")),$("body").hasClass("page-full-width")===!1&&("fixed"===a?($("body").addClass("page-sidebar-fixed"),$("page-sidebar-menu").addClass("page-sidebar-menu-fixed"),$("page-sidebar-menu").removeClass("page-sidebar-menu-default"),s()):($("body").removeClass("page-sidebar-fixed"),$("page-sidebar-menu").addClass("page-sidebar-menu-default"),$("page-sidebar-menu").removeClass("page-sidebar-menu-fixed"),$(".page-sidebar-menu").unbind("mouseenter").unbind("mouseleave"))),"fixed"===l?$("body").addClass("page-footer-fixed"):$("body").removeClass("page-footer-fixed"),Metronic.isRTL()?"left"===c?($("body").addClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"right"})):($("body").removeClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"left"})):"right"===c?($("body").addClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"left"})):($("body").removeClass("page-sidebar-reversed"),$("#frontend-link").tooltip("destroy").tooltip({placement:"right"})),o(),r()},l=function(o){var t=Metronic.isRTL()?o+"-rtl":o;$("#style_color").attr("href",a+"themes/"+t+".css"),"light2"==o?$(".page-logo img").attr("src",e+"logo-invert.png"):$(".page-logo img").attr("src",e+"logo.png"),$.cookie&&$.cookie("style_color",o)};$(".toggler",t).click(function(){$(".toggler").hide(),$(".toggler-close").show(),$(".theme-panel > .theme-options").show()}),$(".toggler-close",t).click(function(){$(".toggler").show(),$(".toggler-close").hide(),$(".theme-panel > .theme-options").hide()}),$(".theme-colors > ul > li",t).click(function(){var e=$(this).attr("data-style");l(e),$("ul > li",t).removeClass("current"),$(this).addClass("current")}),$(".layout-option, .page-header-option, .sidebar-option, .page-footer-option, .sidebar-pos-option",t).change(d),$.cookie&&$.cookie("style_color")&&l($.cookie("style_color"))};return{init:function(){r(),t(),d(),n(),p(),c(),l(),g(),Metronic.addResizeHandler(o),Metronic.addResizeHandler(r),Metronic.addResizeHandler(p)},fixContentHeight:function(){o()},getLayoutImgPath:function(){return e}}}();